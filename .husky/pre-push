#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-push checks..."
echo "1. Format Check"
pnpm run format --check || { echo "Format check failed. Run 'pnpm format --write' to fix formatting issues."; exit 1; }

echo "2. Lint Check"
pnpm run lint || { echo "Lint check failed. Fix the linting issues before pushing."; exit 1; }

echo "3. Tests"
pnpm run test || { echo "Tests failed. Fix the failing tests before pushing."; exit 1; }

echo "4. Build"
pnpm run build || { echo "Build failed. Fix the build issues before pushing."; exit 1; }

echo "All checks passed! Pushing changes..."
