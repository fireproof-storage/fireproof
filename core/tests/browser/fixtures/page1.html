<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page 1</title>
</head>
<body>
    <h1>Test Page 1</h1>
    <p>This is the first test page for localStorage navigation testing.</p>
    
    <div id="storage-content"></div>
    
    <button id="setData">Set localStorage Data</button>
    <button id="readData">Read localStorage Data</button>
    <a href="page2.html" id="navToPage2">Navigate to Page 2</a>
    
    <script>
        // Helper functions for localStorage testing
        window.setTestData = function(key, value) {
            localStorage.setItem(key, JSON.stringify(value));
        };
        
        window.getTestData = function(key) {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : null;
        };
        
        // Set up page-specific data
        window.addEventListener('DOMContentLoaded', function() {
            document.getElementById('setData').addEventListener('click', function() {
                const testData = {
                    page: 'page1',
                    timestamp: Date.now(),
                    message: 'Data from Page 1'
                };
                window.setTestData('navigation-test', testData);
                document.getElementById('storage-content').textContent = 'Data set: ' + JSON.stringify(testData);
            });
            
            document.getElementById('readData').addEventListener('click', function() {
                const data = window.getTestData('navigation-test');
                document.getElementById('storage-content').textContent = 'Data read: ' + JSON.stringify(data);
            });
            
            // Auto-read existing data on page load
            const existingData = window.getTestData('navigation-test');
            if (existingData) {
                document.getElementById('storage-content').textContent = 'Existing data: ' + JSON.stringify(existingData);
            }
        });
    </script>
</body>
</html>